<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Solana Validator Dashboard</title>

  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: #0b0b0f;
      color: #eaeaf0;
    }
    .wrap {
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }
    .card {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 18px 16px;
      margin: 14px 0;
    }
    code {
      background: rgba(255,255,255,0.08);
      padding: 2px 6px;
      border-radius: 8px;
    }
    a { color: #9ad7ff; }
    .muted { opacity: 0.8; }
    .error { color: #ff6b6b; }
    input {
      width: 100%;
      box-sizing: border-box;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.35);
      color: #eaeaf0;
      outline: none;
    }
    button {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: #eaeaf0;
      cursor: pointer;
    }
    button:hover { background: rgba(255,255,255,0.10); }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Solana Validator Dashboard</h1>

    <div class="card">
      <div class="muted">
        <!-- ✅ THIS IS THE PART FROM YOUR SCREENSHOT -->
        open a link with <code>?vote=</code> (vote account address).
      </div>

      <div style="margin-top:12px">
        <label class="muted" for="vote">Vote account</label>
        <input id="vote" placeholder="Paste vote account address…" />
        <button id="openBtn">Open dashboard</button>
        <div id="hint" class="muted" style="margin-top:10px"></div>
      </div>
    </div>

    <div class="card">
      <div id="state" class="muted">No vote account in URL yet.</div>
      <div id="example" class="muted" style="margin-top:10px"></div>
    </div>
  </div>

  <script>
    function qs(name) {
      return new URLSearchParams(window.location.search).get(name);
    }

    const voteFromUrl = qs("vote");
    const stateEl = document.getElementById("state");
    const exampleEl = document.getElementById("example");
    const inputEl = document.getElementById("vote");
    const hintEl = document.getElementById("hint");

    function makeUrl(vote) {
      const base = window.location.origin + window.location.pathname;
      return base + "?vote=" + encodeURIComponent(vote);
    }

    if (voteFromUrl) {
      stateEl.textContent = "Loaded vote account: " + voteFromUrl;
      exampleEl.innerHTML = "Share link: <code>" + makeUrl(voteFromUrl) + "</code>";
      document.title = "Validator – " + voteFromUrl.slice(0, 4) + "…" + voteFromUrl.slice(-4);
    }

    document.getElementById("openBtn").addEventListener("click", () => {
      const vote = (inputEl.value || "").trim();
      if (!vote) {
        hintEl.innerHTML = '<span class="error">Please paste a vote account address.</span>';
        return;
      }
      window.location.href = makeUrl(vote);
    });
  </script>
</body>
</html>
